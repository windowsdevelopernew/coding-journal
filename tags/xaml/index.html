<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Xaml &middot; Coding Journal</title>

    <meta name="description" content="Adventures in the world of C#, F# and WinRT">

    <meta name="generator" content="Hugo 0.14" />
    <meta name="twitter:card" content="summary">
    
    <meta name="twitter:title" content="Xaml &middot; Coding Journal">
    <meta name="twitter:description" content="Adventures in the world of C#, F# and WinRT">

    <meta property="og:type" content="article">
    <meta property="og:title" content="Xaml &middot; Coding Journal">
    <meta property="og:description" content="Adventures in the world of C#, F# and WinRT">

    <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:400,700|Oxygen:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/pure-min.css">
    <!--[if lte IE 8]>
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/grids-responsive-old-ie-min.css">
    <![endif]-->
    <!--[if gt IE 8]><!-->
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/grids-responsive-min.css">
    <!--<![endif]-->

    <link rel="stylesheet" href="https://github.com/igorkulman/coding-journal/css/all.min.css">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">

    <link rel="alternate" type="application/rss+xml" title="Coding Journal" href="https://github.com/igorkulman/coding-journal/index.xml" />
</head>
<body>


<div id="layout" class="pure-g">
    <div class="sidebar pure-u-1 pure-u-md-1-4">
    <div class="header">
        <hgroup>
            <h1 class="brand-title"><a href="https://github.com/igorkulman/coding-journal">Coding Journal</a></h1>
            <h2 class="brand-tagline"> Adventures in the world of C#, F# and WinRT </h2>
        </hgroup>

        <nav class="nav">
            <ul class="nav-list">
                
                <li class="nav-item">
                    <a class="pure-button" href="https://twitter.com/igorkulman"><i class="fa fa-twitter"></i> Twitter</a>
                </li>
                
                
                <li class="nav-item">
                    <a class="pure-button" href="https://github.com/igorkulman "><i class="fa fa-github-alt"></i> github</a>
                </li>
                
                <li class="nav-item">
                    <a class="pure-button" href="https://github.com/igorkulman/coding-journal/index.xml"><i class="fa fa-rss"></i> rss</a>
                </li>
            </ul>
        </nav>

<div>
<h2>About me</h2>

<p>Igor Kulman is currently working as Windows Phone developer, also building applications for Microsoft Azure and playing with F#.</p>
<p>
Interested in programming languages, functional programming and data science.</p>

</div>

    </div>
</div>


    <div class="content pure-u-1 pure-u-md-3-4">
        <div>
            
            <div class="posts">
                
                <h1 class="content-subhead">17 Oct 2015, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://github.com/igorkulman/coding-journal/highlighting-letters-in-textblock-in-windows-phone-8-1-and-windows-8-1/" class="post-title">Highlighting letters in TextBlock in Windows Phone 8.1 and Windows 8.1</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Igor Kulman</strong>
                            
                            
                                under 
                                
                                <a class="post-category post-category-Windows Phone" href="https://github.com/igorkulman/coding-journal/categories/windows-phone">Windows Phone</a><a class="post-category post-category-WinRT" href="https://github.com/igorkulman/coding-journal/categories/winrt">WinRT</a>
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>In my current project I had to implement an interesting feature for both Windows Phone 8.1 and Windows 8.1 project of the Universal app. The idea is simply. The users want to search for a movie. They enter a search term into a TextBox and a list of results is shown. The results should have the search term highlighted in them.</p>

<p><img src="/images/highlighting.png" alt="" class="pure-img" ></p>

<p>The standard TextBlock used to display the movie titles does not support any kind of letter highlighting, so I had to write a custom one. I created a custom UserControl. The UserControl contains a few dependency properties Text, HighlightedText, HighlightBrush and a TextBlock. When Text or HighlightedText change, the Text is then split into multiple Runs that are added to the TextBlock.</p>

<p><script src="https://gist.github.com/87b051f2f3a54bf895f0.js"></script></p>

<p>The whole working custom control is available at Github: <a href="https://github.com/igorkulman/Kulman.WPA81.HighlightTextBox">https://github.com/igorkulman/Kulman.WPA81.HighlightTextBox</a>.</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">11 Sep 2015, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://github.com/igorkulman/coding-journal/strange-combination-of-https-and-windows-phone-8-1-that-can-make-your-app-and-phone-freeze/" class="post-title">Strange combination of HTTPS and Windows Phone 8.1 that can make your app and phone freeze</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Igor Kulman</strong>
                            
                            
                                under 
                                
                                <a class="post-category post-category-Windows Phone" href="https://github.com/igorkulman/coding-journal/categories/windows-phone">Windows Phone</a>
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>Last week I came upon a really bizarre problem that you may also find interesting. Lets start with a bit of context.</p>

<p><strong>Tl;Dr</strong>: There seems to be a bug in Windows phone 8.1 that can make your app and the phone freezes when displaying images over HTTPS from some servers. Skip to <a href="#bug">the end of this article</a> to see a video and get the source code.</p>

<p><strong>The Windows Phone app</strong></p>

<p>The app is a Windows Phone 8 shopping app for the biggest Czech online retailer. The main screen of the app contains quite a bit of data, usually about ten carousel with about 10 products and the list of main categories, so about 10 more images.</p>

<p>In worst case the main screen contains over 10 hundred images. It was quite a hassle to make it work well in the Windows Phone 8 SDK (no, rewriting a shopping about with about 70 screens to Windows Phone 8.1 is not feasible). But it work juts fine. Until last week.</p>

<p><strong>The problem</strong></p>

<p>Last week, users started to report that the app freezes on the main screen, sometime making the whole phone freeze. This was really bad. Frozen app means not only angry customers but customer that do not buy stuff. So I started to investigate.</p>

<p>First I thought there may be a problem in the app, although the app was last updated more than a month ago and the problem started only last week. Everything worked fine in the emulator, the problem was reproducible only on real devices. I tried showing only one carousel to make the app render much less data, did not help. I tried making the app show only one product in the only one carousel, still a problem. So it looked like the images were the problem. I tried replacing all the real image urls with random images from <a href="http://lorempixel.com">lorempixel.com</a> and the app worked just fine.</p>

<p>I determined that the source of the problems are the images on the server. Talking with the server customer&#8217;s people I found out that the images on the server were exchanged for bigger one because of the iPhones. But it did not make sense. I tried using much bigger random images and the app worked fine. I tried downloading the images and using them locally, the app worked fine.</p>

<p><strong id="bug">Windows Phone 8.1 bug?</strong></p>

<p>Finally I found out that the app worked the whole time on phones with Windows 10, only phones with Windows Phone 8.1 were affected. Android and iOS apps that the customer has also never experienced this problem. This make me thing that there is some kind of bug in Windows Phone 8.1 that causes this behavior, because the app does not do any image processing, it only uses an Image control and sets is Source url.</p>

<p>Here is a sample app to reproduce the problem: <a href="https://github.com/igorkulman/WindowsPhoneHttpsImageBug">https://github.com/igorkulman/WindowsPhoneHttpsImageBug</a>. The solution contains a Windows Phone 8 project and a Windows Phone 8.1. Both apps suffer from the sample problem, but the problem is worse in the Silverlight app. This also makes me think that this is a Windows Phone 8.1 bug, independent on the Windows Phone SDK version.</p>

<p>I made a video using the sample app showing the problem</p>

<p><div class="embed video-player">
<iframe src="http://player.vimeo.com/video/138747871" width="640" height="385" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>
</div></p>

                    </div>
                </section>
                
                <h1 class="content-subhead">01 Jul 2015, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://github.com/igorkulman/coding-journal/implementing-google-login-in-universal-apps/" class="post-title">Implementing Google login in Universal Apps</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Igor Kulman</strong>
                            
                            
                                under 
                                
                                <a class="post-category post-category-WinRT" href="https://github.com/igorkulman/coding-journal/categories/winrt">WinRT</a>
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>In a recent project I had to implement Google login to an Universal App. I decided to use the native <a href="https://msdn.microsoft.com/en-us/library/windows.security.authentication.web.webauthenticationbroker.aspx">WebAuthenticationBroker</a> control and the implementation was not as straightforward as I hoped. By implementing Google login I mean getting the authentication token that you can then use with your server API.</p>

<p>WebAuthenticationBroker is a good idea but it is implemented rather poorly. It works differently on Windows 8.1 and Windows Phone 8.1 due to the &#8220;AndContinue&#8221; pattern that Windows Phone 8.1 forces on you. You can solve this with <a href="http://blog.kulman.sk/why-universal-apps-as-not-as-universal-as-you-may-think/">some ifdefs and platform specific code, as always</a>.</p>

<p>The real problem s that the <a href="https://code.msdn.microsoft.com/windowsapps/Web-Authentication-d0485122">MSDN sample</a> states it works with Google login but it does not. The sample thinks it gets the authentication token but it does not, it just gets the success code that you have to exchange for the authentication token yourself.</p>

<p>Lets start with a basic config</p>

<script src="https://gist.github.com/igorkulman/65a406f7f3cff48be3c5.js?file=config.cs"></script>

<p>The important things here are your Google app id and Google app secret. The GoogleStartUri also contains permissions that you want to get (profile, <a href="https://www.googleapis.com/auth/plus.login">https://www.googleapis.com/auth/plus.login</a> and <a href="https://www.googleapis.com/auth/plus.me">https://www.googleapis.com/auth/plus.me</a> email in my case).</p>

<p>You use this config with a WebAuthenticationBroker call</p>

<script src="https://gist.github.com/igorkulman/65a406f7f3cff48be3c5.js?file=login.cs"></script>

<p>on Windows 8.1 you get the response data immediately. On Windows Phone 8.1, you have to implement the &#8220;AndContinue&#8221; pattern.</p>

<p>You use the response data to parse out the success code</p>

<script src="https://gist.github.com/igorkulman/65a406f7f3cff48be3c5.js?file=GetGoogleSuccessCode.cs"></script>

<p>Now that you have the success code, you can exchange it for the authentication token</p>

<p>And now you finally have a way to get the authentication token and implement Google login.</p>

<script src="https://gist.github.com/igorkulman/65a406f7f3cff48be3c5.js?file=GetToken.cs"></script>

                    </div>
                </section>
                
                <h1 class="content-subhead">25 May 2015, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://github.com/igorkulman/coding-journal/removing-unused-strings-from-windows-phone-8-resx-files/" class="post-title">Removing unused strings from Windows Phone 8 RESX files</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Igor Kulman</strong>
                            
                            
                                under 
                                
                                <a class="post-category post-category-Windows Phone" href="https://github.com/igorkulman/coding-journal/categories/windows-phone">Windows Phone</a>
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>Using RESX files is the standard approach to Windows Phone 8 app localization, it is even contained in the standard project templates. When you work on a project for a longer time, you may get to a situation that your RESX files contain strings that you no longer use. This is a problem especially when you want to add a new localization, because it is slower and kind of wasteful localizing unused strings.</p>

<p>To solve this problem I have created a simple command line utility, that is <a href="https://github.com/igorkulman/RemoveUnusedResources">available at Github</a>. This utility assumes that you use the standard localization approach from the templates (AppResources.{lang}.resx and LocalizedStrings.{value} in XAML).</p>

<p>The usage is really simple. Just run the utility with the path to your project as a parameter. It will detect all resources files and remove all the unused strings from them.</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">04 May 2015, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://github.com/igorkulman/coding-journal/customizing-the-player-framework-ui/" class="post-title">Customizing the Player Framework UI</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Igor Kulman</strong>
                            
                            
                                under 
                                
                                <a class="post-category post-category-Windows Phone" href="https://github.com/igorkulman/coding-journal/categories/windows-phone">Windows Phone</a><a class="post-category post-category-WinRT" href="https://github.com/igorkulman/coding-journal/categories/winrt">WinRT</a>
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>In my last article I gave you a tip on how to localize the Player Framework, in this article I will show you have to customize the UI of the actual player.</p>

<p>The first step is to obtain the Generic.xaml file that the Player Framework uses for styling. You can find it in C:\ Program Files (x86)\ Microsoft SDKs\ Windows\ v8.0\ ExtensionSDKs\ Microsoft.PlayerFramework.Xaml\ 2.0.0.0\ Redist\ CommonConfiguration\ neutral\ Microsoft.PlayerFramework\ Themes. Copy it to your projects and rename it to something more telling, like PlayerFramework.xaml.</p>

<p>You can now edit the copied XAML file and customize it any way you want. If you do the styling for a Windows Phone app, keep in mind that the ControlPanel switches to the Compact states and a few transformations are applied by default, that can interfere with your styling.</p>

<p>Finally, you need to apply the style by adding it to the page with your player</p>

<p><script src="https://gist.github.com/7bbbefc9a25afa07c5e1.js"></script></p>

                    </div>
                </section>
                
                <h1 class="content-subhead">30 Apr 2015, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://github.com/igorkulman/coding-journal/the-death-of-the-winrt-developer/" class="post-title">The death of the WinRT developer?</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Igor Kulman</strong>
                            
                            
                                under 
                                
                                <a class="post-category post-category-Windows Phone" href="https://github.com/igorkulman/coding-journal/categories/windows-phone">Windows Phone</a><a class="post-category post-category-WinRT" href="https://github.com/igorkulman/coding-journal/categories/winrt">WinRT</a>
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>As many other Windows Phone / Windows 8 / Universal apps developers (lets just call us WinRT developers) I watched the Build 2015 keynote last night. And I did not like it. I know Microsoft does not know to communicate but the message for me was clear. We, the WinRT developer, are no longer needed.</p>

<p>First, Microsoft announced that WPF apps will be allowed to be submitted to the Windows Store to be used on desktops / tablets. So why would anyone want to develop (or want to have developed) a Windows 8 (WinRT) app, when they can just use WPF and get everything done easier? I do not know.</p>

<p>But allowing WPF apps to the Windows Store is a small news compared to the ability to run Android apps on Windows Phone. The first news talked about porting Android apps to the Windows Phone, but later, <a href="http://www.zdnet.com/article/heres-how-microsoft-hopes-to-get-android-and-ios-phone-apps-into-its-windows-10-store/">statements like this</a> appeared</p>

<p><em>Android developers will be able to submit versions of their apps, written in Java or C++, to the Windows Store in he form of APKs and have those apps work on Windows Phone 10 devices. Android developers should be able to start submitting apps to the Windows 10 Store some time in the next few months.</em></p>

<p>So let get this straight. Who would want a native mobile Windows app developed, when they can just take their Android app and use it on Windows? What company would want to keep their mobile Windows team, when they can just use their Android team to make Windows apps?</p>

<blockquote class="twitter-tweet" width="550">
  <p lang="en" dir="ltr">
    So I can use WPF to get into the store, and Java to get onto WinPhone and Android. So why would I write a universal app???
  </p>
  
  <p>
    &mdash; Morten Nielsen (@dotMorten) <a href="https://twitter.com/dotMorten/status/593467368124379137">April 29, 2015</a>
  </p>
</blockquote>

<p>Sure, Android apps will probably not run on XBOX and HoloLens, but I doubt Microsoft will open the XBOX store for all the developers, more likely only chosen companies will be allowed to publish apps. HoloLens will be used only by a small number of people if this price is not really low (which I doubt it will be), so only a few HoloLens apps will be needed.</p>

<p>For me, the situation seems clear, it is the death of the WinRT developer.</p>

<blockquote class="twitter-tweet" width="550">
  <p lang="en" dir="ltr">
    Can the last XAML dev to leave please turn out the lights. <a href="https://twitter.com/hashtag/Build2015?src=hash">#Build2015</a>
  </p>
  
  <p>
    &mdash; Mark Allan (@MarkXA) <a href="https://twitter.com/MarkXA/status/593468730794967043">April 29, 2015</a>
  </p>
</blockquote>

                    </div>
                </section>
                
                <h1 class="content-subhead">27 Apr 2015, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://github.com/igorkulman/coding-journal/player-framework-localization/" class="post-title">Player Framework localization</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Igor Kulman</strong>
                            
                            
                                under 
                                
                                <a class="post-category post-category-Windows Phone" href="https://github.com/igorkulman/coding-journal/categories/windows-phone">Windows Phone</a><a class="post-category post-category-WinRT" href="https://github.com/igorkulman/coding-journal/categories/winrt">WinRT</a>
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>In my recent universal (Windows Phone 8.1 and Windows 8.1) project I implemented PlayReady DRM protected smooth streaming movies playback using the <a href="https://playerframework.codeplex.com/">Player Framework</a>. This projects seems to be dead, but it is still the best option when implementing any kind of video playback.</p>

<p>One of the first things I had to do was localize it&#8217;s controls, because the app I worked on was in Czech and Slovak, not in English (the only language the Player Framework supports out of the box). Not all the texts an be localized, but the most visible ones like button labels and error messages can.</p>

<p>To create your own localization, I suggest you create a new RESW file in your project. You can use and existing one, but I prefer to separate the texts for the Player Framework from texts for the rest of the app.</p>

<p>Next you have to find out the keys for the string you want to localize. You an <a href="https://playerframework.codeplex.com/SourceControl/latest#Win8.Xaml.Localize.Win81/en-US/PlayerFramework.resw">find them in the source code</a>. You can just copy the content of that RESW file to yours RESW file and localized everything.</p>

<p>The last step is to let the PlayerFramework know about your RESW file using</p>

<p><script src="https://gist.github.com/a5dcc1537cb977d023b4.js"></script></p>

                    </div>
                </section>
                
                <h1 class="content-subhead">29 Dec 2014, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://github.com/igorkulman/coding-journal/changing-the-pivotitem-header-color-in-windows-phone-8-1-xaml/" class="post-title">Changing the PivotItem header color in Windows Phone 8.1 XAML</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Igor Kulman</strong>
                            
                            
                                under 
                                
                                <a class="post-category post-category-Windows Phone" href="https://github.com/igorkulman/coding-journal/categories/windows-phone">Windows Phone</a>
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>Windows Phone 8.1 XAML contains a Pivot control that looks like the one from Windows Phone <sup>7</sup>&frasl;<sub>8</sub> and also should behave the same way, but does not. You will find the first problem with the new Pivot when you want to change the PivotItem header color.</p>

<p><strong>Windows Phone <sup>7</sup>&frasl;<sub>8</sub></strong></p>

<p>If you want to change the PivotItem header color in Windows Phone <sup>7</sup>&frasl;<sub>8</sub>, you just define the color in the Header template:</p>

<script src="https://gist.github.com/igorkulman/a49d0c7d471c4de42521.js?file=wp8.xaml"></script>

<p>This works great, changing the color of the active PivotItem Header to the color you want and applying some opacity to the inactive PivotItem Headers.</p>

<p><img src="/images/header78.png" alt="" class="pure-img" ></p>

<p><strong>Windows Phone 8.1 XAML</strong></p>

<p>If you apply the same Header template to PivotItem in Windows Phone 8.1 XAML, you will find that there is a bug in the control. The inactive PivotItem Headers do not get opacity change applied.</p>

<p><img src="/images/header81.png" alt="" class="pure-img" ></p>

<p>This is obviously a problem, if you do not want to do same SelectedIndex manipulation to change the color programatically for all the inactive PivotItem headers.</p>

<p>Luckily, there is a way to fix this. You can redefine the PivotHeaderForegroundUnselectedBrush and PivotHeaderForegroundSelectedBrush to the active and inactive colors of your choice.</p>

<script src="https://gist.github.com/igorkulman/a49d0c7d471c4de42521.js?file=wp81.xaml"></script>

                    </div>
                </section>
                
                <h1 class="content-subhead">24 Dec 2014, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://github.com/igorkulman/coding-journal/dialog-helper-for-universal-apps/" class="post-title">Dialog helper for Universal Apps the easy way</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Igor Kulman</strong>
                            
                            
                                under 
                                
                                <a class="post-category post-category-Windows Phone" href="https://github.com/igorkulman/coding-journal/categories/windows-phone">Windows Phone</a><a class="post-category post-category-WinRT" href="https://github.com/igorkulman/coding-journal/categories/winrt">WinRT</a>
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>Today I read Joost van Schaik&#8217;s blog post called <a href="http://dotnetbyexample.blogspot.nl/2014/12/a-behavior-to-show-messagedialog-from.html">A behavior to show a MessageDialog from a MVVMLight viewmodel in Universal apps–with callbacks</a>. I am not a MVVMLight guy (I use Caliburn.Micro) and I personally use an approach that uses a little less code, employing a helper class.</p>

<p><strong>Helper class</strong></p>

<script src="https://gist.github.com/igorkulman/fda1860b35d5312e9157.js?file=DialogHelper.cs"></script>

<p>with a simple usage in ViewModel</p>

<script src="https://gist.github.com/igorkulman/fda1860b35d5312e9157.js?file=usage.cs"></script>

<p>and in the View (making use of Caliburn.Micro mapping the AppBarButton with x:Name=&#8221;Message&#8221; to the Message method in the ViewModel</p>

<script src="https://gist.github.com/igorkulman/fda1860b35d5312e9157.js?file=usage.xaml"></script>

<p>If you want to show a dialog with just the Ok button, set cancelText to null and do not process the helper method&#8217;s result.</p>

<p><strong>Simple service</strong></p>

<p>If you do not like static classes, just make it service</p>

<script src="https://gist.github.com/igorkulman/fda1860b35d5312e9157.js?file=DialogHelperService.cs"></script>

<p>the usage in the ViewModel will change just slightly</p>

<script src="https://gist.github.com/igorkulman/fda1860b35d5312e9157.js?file=usage2.cs"></script>

<p>and you can easily mock the service and test the ViewModel.</p>

<p>You can find the complete code in a sample solution on GitHub: <a href="https://github.com/igorkulman/SampleMessagePopup">https://github.com/igorkulman/SampleMessagePopup</a>.</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">23 Dec 2014, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://github.com/igorkulman/coding-journal/creating-a-fake-splashscreen-for-your-universal-app/" class="post-title">Creating a fake splashscreen for your Universal App</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Igor Kulman</strong>
                            
                            
                                under 
                                
                                <a class="post-category post-category-Windows Phone" href="https://github.com/igorkulman/coding-journal/categories/windows-phone">Windows Phone</a><a class="post-category post-category-WinRT" href="https://github.com/igorkulman/coding-journal/categories/winrt">WinRT</a>
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>Sometimes you may want your app to display the startup splashscreen a bit longer, so you can initialize or fetch some data necessary for the app to run. To achieve this, you can create a fake splaschreen, a View that looks just like the splashscreen, does all the work and redirects to the real main View afterwards.</p>

<p>In theory, it is quite simple:</p>

<ul>
<li>Create a SplashScreenView with just the right background and the splashscreen image</li>
<li>Set the app to display SplashScreenView at startup</li>
<li>Do all the initializing and data fetching in SplashScreenViewModel and redirect to there real MainView</li>
</ul>

<p>This works quite well with Windows 8.1, but on Windows Phone 8.1 there is a problem. When you run the Windows Phone 8.1 app, you will see a page transition happen between the real splashscreen and your SplashScreenView. This looks strange, so it is better to get rid of it.</p>

<p><strong>Managing the Frame transitions on Windows Phone 8.1</strong></p>

<p>To fix this issue, you can disable the transitions on the frame and add them manually to each View other than SplashScreenView, but there is a better way. You can disable the transitions when creating the frame and the enable them after navigating from the SplashScreenView. Do not forget the <a href="http://blog.kulman.sk/why-universal-apps-as-not-as-universal-as-you-may-think/" title="Why Universal Apps as not as universal as you may think">#ifdefs, because it is one of those many things that are Windows Phone specific in the Universal Apps</a>.</p>

<p><script src="https://gist.github.com/d61c0a71e8ed0e2fbc1d.js"></script></p>

<p>This makes the illusion of the fake splashscreen perfect, but I would recommend adding a ProgressBar or ProgressRing to the SplashScreenView so the users do not have the feeling that your app froze.</p>

                    </div>
                </section>
                
            </div>
            
<div class="pagination">
  <nav role="pagination" class="post-list-pagination">
      
    <span class="post-list-pagination-item post-list-pagination-item-current">Page 1 of 3</span>
    
      <a href="/tags/xaml/page/2/" class="post-list-pagination-item pure-button post-list-pagination-item-next">
        Older&nbsp;<i class="fa fa-angle-double-right"></i>
      </a>
    
  </nav>
</div>


            <div class="footer">
    <div class="pure-menu pure-menu-horizontal pure-menu-open">
        <ul>
            <li>Powered by <a class="hugo" href="http://hugo.spf13.com/" target="_blank">hugo</a></li>
        </ul>
    </div>
</div>
<script src="https://github.com/igorkulman/coding-journal/js/all.min.js"></script>
        </div>
    </div>
</div>

<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-49528577-2', 'auto');
ga('send', 'pageview');

</script>

</body>
</html>

<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>C# &middot; Coding Journal</title>

    <meta name="description" content="Adventures in the world of C#, F# and WinRT">

    <meta name="generator" content="Hugo 0.14" />
    <meta name="twitter:card" content="summary">
    
    <meta name="twitter:title" content="C# &middot; Coding Journal">
    <meta name="twitter:description" content="Adventures in the world of C#, F# and WinRT">

    <meta property="og:type" content="article">
    <meta property="og:title" content="C# &middot; Coding Journal">
    <meta property="og:description" content="Adventures in the world of C#, F# and WinRT">

    <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:400,700|Oxygen:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/pure-min.css">
    <!--[if lte IE 8]>
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/grids-responsive-old-ie-min.css">
    <![endif]-->
    <!--[if gt IE 8]><!-->
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/grids-responsive-min.css">
    <!--<![endif]-->

    <link rel="stylesheet" href="https://github.com/igorkulman/coding-journal/css/all.min.css">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">

    <link rel="alternate" type="application/rss+xml" title="Coding Journal" href="https://github.com/igorkulman/coding-journal/index.xml" />
</head>
<body>


<div id="layout" class="pure-g">
    <div class="sidebar pure-u-1 pure-u-md-1-4">
    <div class="header">
        <hgroup>
            <h1 class="brand-title"><a href="https://github.com/igorkulman/coding-journal">Coding Journal</a></h1>
            <h2 class="brand-tagline"> Adventures in the world of C#, F# and WinRT </h2>
        </hgroup>

        <nav class="nav">
            <ul class="nav-list">
                
                <li class="nav-item">
                    <a class="pure-button" href="https://twitter.com/igorkulman"><i class="fa fa-twitter"></i> Twitter</a>
                </li>
                
                
                <li class="nav-item">
                    <a class="pure-button" href="https://github.com/igorkulman "><i class="fa fa-github-alt"></i> github</a>
                </li>
                
                <li class="nav-item">
                    <a class="pure-button" href="https://github.com/igorkulman/coding-journal/index.xml"><i class="fa fa-rss"></i> rss</a>
                </li>
            </ul>
        </nav>

<div>
<h2>About me</h2>

<p>Igor Kulman is currently working as Windows Phone developer, also building applications for Microsoft Azure and playing with F#.</p>
<p>
Interested in programming languages, functional programming and data science.</p>

</div>

    </div>
</div>


    <div class="content pure-u-1 pure-u-md-3-4">
        <div>
            
            <div class="posts">
                
                <h1 class="content-subhead">06 Jun 2013, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://github.com/igorkulman/coding-journal/inotifypropertychanged-the-easy-way-in-windows-phone-and-windows-8/" class="post-title">INotifyPropertyChanged the easy way in Windows Phone and Windows 8</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Igor Kulman</strong>
                            
                            
                                under 
                                
                                <a class="post-category post-category-Windows Phone" href="https://github.com/igorkulman/coding-journal/categories/windows-phone">Windows Phone</a><a class="post-category post-category-WinRT" href="https://github.com/igorkulman/coding-journal/categories/winrt">WinRT</a>
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>If you develop Windows Phone, Windows 8, Silverlight or WPF apps using the MVVM pattern, you are familiar with the INotifyPropertyChanged interface.</p>

<p><strong>Typical implementation</strong></p>

<p>In a typical implementation, you usually have a base class implementing the interface, like</p>

<p><script src="https://gist.github.com/5849361.js"></script></p>

<p>or use a framework like MVVMLight, Prism or Caliburn Micro that provides such base class for you. In your view models you have properties using the PropertyChanged method</p>

<p><script src="https://gist.github.com/5849364.js"></script></p>

<p>You do not need to create such properties by hand, you can <a href="http://www.kulman.sk/data/down/propn.snippet">use a snippet</a>, but it is still a lot of code to do such a simple thing.</p>

<p><strong>Meet Fody</strong></p>

<p><a href="https://github.com/Fody/Fody">Fody</a> is an assembly weaver for .NET that plugs to the build process of your project and modifies the IL of your assemblies according to your needs. It supports .net 3.5, .net 4, .net 4.5, Silverlight 4, Silverlight 5, Windows Phone 7, Windows Phone 8, Metro on Windows 8, Mono, MonoTouch, MonoDroid and PCL. No installation or configuration is required, you just need to install the <a href="http://nuget.org/packages/Fody/">Fody Nuget package</a>.</p>

<p><strong>INotifyPropertyChanged using Fody (80% of the time)</strong></p>

<p>Fody has a <a href="https://github.com/Fody/PropertyChanged">PropertyChanged addin</a> that does all the INotifyPropertyChanged plumbing for you. If you want the same behavior as in my typical implementation example, there is no need for a base class. Install the <a href="https://github.com/Fody/PropertyChanged">PropertyChanged.Fody Nuget package</a>, decorate your view model class with the ImplementPropertyChanged attribute and use just basic properties</p>

<p><script src="https://gist.github.com/5849367.js"></script></p>

<p>That is it. Less code, the same behaviour. You can verify it with tools like <a href="http://www.telerik.com/justdecompile.aspx">Telerik JustDecompile</a>.</p>

<p><strong>The remaining 20%</strong></p>

<p>Fody does all the plumbing for you. It even knows that the FullName property uses FirstName and Surname and raises the PropertyChanged event for it when any og the two properties changes. The PropertyChanged.Fody addin <a href="https://github.com/Fody/PropertyChanged/wiki/Attributes">contains attributes</a>, that you can use to define dependencies</p>

<p><script src="https://gist.github.com/5849371.js"></script></p>

<p>or to raise the PropertyChanged event for any other property</p>

<p><script src="https://gist.github.com/5849373.js"></script></p>

<p>Sometimes you want to execute some additional code in the setter. Fody allows it, just create a method with the <a href="https://github.com/Fody/PropertyChanged/wiki/On_PropertyName_Changed">name On_PropertyName_Changed</a></p>

<p><script src="https://gist.github.com/5849376.js"></script></p>

<p>If you use a framework and you want to raise the PropertyChanged event through a method of this framework, it is not a problem. You just need to <a href="https://github.com/Fody/PropertyChanged/wiki/Options">set the EventInvokerNames options</a>. The Fody <a href="https://github.com/Fody/PropertyChanged/wiki/SupportedToolkits">documentation even describes what to set for some of the frameworks</a> so you do not have to figure it out for yourself.</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">05 Jun 2013, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://github.com/igorkulman/coding-journal/beware-of-removing-localizations-from-your-windows-phone-apps/" class="post-title">Beware of removing localizations from your Windows Phone apps</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Igor Kulman</strong>
                            
                            
                                under 
                                
                                <a class="post-category post-category-Windows Phone" href="https://github.com/igorkulman/coding-journal/categories/windows-phone">Windows Phone</a>
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>When I released version 2.0 of my app <a href="http://phototimeline.kulman.sk/">Photo Timeline</a>, some users reported updating problems. I finally found out what caused the problem and submited a new build to the Windows Phone store.</p>

<p>In my app I had three localizations: en-US (default), en and cs. I do not exactly remember why I had English twice as localization. I decided to remove the en localization thinking that nothing will break and that was a mistake.</p>

<p><strong>Once you add a localization to your app, never remove it!</strong> If you do so, all the users who use your app with that localization will have update problems.</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">20 May 2013, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://github.com/igorkulman/coding-journal/getting-paid-for-your-windows-phone-apps-is-a-real-pain/" class="post-title">Windows Phone Store and problems with payments</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Igor Kulman</strong>
                            
                            
                                under 
                                
                                <a class="post-category post-category-Windows Phone" href="https://github.com/igorkulman/coding-journal/categories/windows-phone">Windows Phone</a>
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>I have been a Windows Phone developer for over a year now and my paid apps made me some money. The small amount of money made is not interesting, more interesting is that getting the money from Microsoft has been a real pain. Maybe because I live <strong>outside the US</strong>, maybe it is a geographically independent problem. If you are a developer and live outside the US, I really want to hear your experience.</p>

<p><strong>No exact info about payment rules?</strong></p>

<p>First, there is no exact information about how often a developer gets paid. The <a href="http://msdn.microsoft.com/en-us/library/windowsphone/help/jj206722(v=vs.105).aspx">getting paid section</a> in the Windows Phone Dev Center only informs you about tax and bank info, that you need to provide to get paid. I remember that I once heard that developers get paid when their earnings get pass $200, but I was not able to get any official info about this. The first payment I got from Windows Phone Store was $52.50 and I know a developer with $900 earned and no money sent to him, so I guess the $200 limit is not true.</p>

<p>The <a href="http://msdn.microsoft.com/en-us/library/windows/apps/jj193593.aspx">$200 limit should be true for Windows Store</a>, but Windows Phone Store is a different store with different rules.</p>

<p><strong>No info about pending payments</strong></p>

<p>Suppose the $200 limit is true. (Windows Store states: &#8220;To get paid from the Windows Store, you must have at least $200 in app sales pending payment&#8221;) It would be really useful to know how much money your apps have made in total and from the last payout, or in other words, the pending payments. Microsoft does not provide such info. Even the support is not able (or willing) to tell you this info.</p>

<p>The only info you get is the number of paid downloads of your apps. You need to multiple this per-app numbers by the price of your apps and subtract the 30% cut that Microsoft keeps for themselves. If you changed the price of your apps at some point, or have different pricing for different countries, the math becomes really overwhelming.</p>

<p><strong>Distimo to the rescue?</strong></p>

<p><a href="http://www.distimo.com/">Distimo</a> is a great app analytics service that supports Windows Phone Store. You give it your credentials and it downloads and displays all the data from Windows Phone Store for you. And guess what, it can display the amount of money you made. I do not know how they do it. Maybe they use the exports that Windows Phone Store offers, but when I try to download them, they are always empty. Maybe they just do the math I mentioned&#8230; Anyway, it really sucks that you have to use a 3rd party tool to get the info that Microsoft has and should provide to a developer.</p>

<p><strong>Really getting paid</strong></p>

<p>Only my first payment of the strange $52.50 was automatic. When my next earnings according to my calculations crossed the limit of $200 (or $252.50 taking the $52.50 payment into account), I was expecting to get paid. The payment did not come for months. I asked my local Microsoft branch for more info, but I did not get any useful answers. So I tried another tactic.</p>

<p>I made a bit of a fuss about this issue on Twitter, where many developers from my country joined with their complaints about being in the same situation, mentioning our local Microsoft evangelist in their tweets. In two weeks, we all got our payments from Microsoft (coincidence?).</p>

<p>The payment did not come in $ but in CZK. Its value was approximately $240. The Windows Phone Store now shows me I received two payments in two different currencies and in some statistics adds the two payments up as they were both in CZK ($52.50 + 4,806.88 CZK = 4859.38 CZK in their world).</p>

<p><strong>Answers from Microsoft</strong></p>

<p>I contacted my local Microsoft branch and sent the following <strong>questions</strong>to two evangelists, hoping to get answers for me and other developers:</p>

<p>When does a developer get paid from Windows Phone Store? Is there any limit that needs to be crossed (like $200 in Windows Store)?</p>

<p>Are these getting paid rules officialy stated anywhere? The <a href="http://msdn.microsoft.com/en-us/library/windowsphone/help/jj206722(v=vs.105).aspx">MSDN page</a> does not contain any useful info.</p>

<p>Is there a way to know how much I have made in total / since last payout? I mean other way that doing the math from app downloads and prices. (A fellow developer told me that even your support does not know / want to give the info.)</p>

<p>Are payments automatic? (If there are exact rules)</p>

<p>To get my last payment I needed to contact out local MS branch, do I need to do it every time I feel I made $200 since my last payment (which is now)?</p>

<p>I got the following <strong>answers</strong> (after involving other developers and putting some pressure on them):</p>

<p>7b of the APA: Application Proceeds will be calculated on a monthly basis by deducting the Store Fee from Net Receipts for the applicable month. If total Application Proceeds payable to you for a month exceed USD$200 (or its equivalent in local currency), then Microsoft will remit payment to you in</p>

<p>accordance with this Section 7.</p>

<p>Can you clarify what you mean by rules? As long as a dev has over $200, and has valid bank &amp; tax, then they will be attempted in payout.</p>

<p>Currently we do not have a report that provides the total of the settled transactions for a developer.</p>

<p>Payments are automatically attempted once the developer reaches the threshold</p>

<p>No, payments are automatically attempted once the developer reaches the threshold</p>

<p><strong>Conclusion</strong></p>

<p>Microsoft confirmed the $200 limit for getting paid altough my experience does not corespond to this statement. I still wonder why this information is not available somewhere on AppHub or MSDN. They sent me a file called Windows-Phone-Store-Application-Provider-Agreement.pdf but I was not able to find any reference to it anywhere, just the whole file at a <a href="http://cmsresources.windowsphone.com/devcenter/en-us/legal/Windows-Phone-Store-Application-Provider-Agreement.pdf">strange url</a>. Having this crucial info hidden in a PDF file where no developer can ever find it does not seem ok to me. The whole payments process does not look very transparent.</p>

<p>They also confirmed that there is no way to know how much money you made, so you have to rely on Distimo. They assured me that my next payment will be automatic, so I guess I just have to wait and see &#8230;</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">18 Apr 2013, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://github.com/igorkulman/coding-journal/useful-tools-for-windows-store-developers/" class="post-title">Useful tools for Windows Store developers</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Igor Kulman</strong>
                            
                            
                                under 
                                
                                <a class="post-category post-category-Windows Phone" href="https://github.com/igorkulman/coding-journal/categories/windows-phone">Windows Phone</a><a class="post-category post-category-WinRT" href="https://github.com/igorkulman/coding-journal/categories/winrt">WinRT</a>
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>I recently discovered two really neet tools that helped me with Windows Store app development.</p>

<p><strong>Windows Store Icon Maker</strong></p>

<p>When creating a Windows Store or Windows 8 apps, there are many icon sizes you have to provide. If you do nont wat to do all the resizing by yourself, you can use the <a href="https://github.com/DavidBurela/WindowsMarketplaceIconMaker">Windows Store Icon Maker</a>. It is a fork of the <a href="http://wpiconmaker.codeplex.com/">Windows Phone Icons Maker</a> with added support for Windows Store apps. It takes a 300x300px icon as input and outputs all the square icons you need.</p>

<p><strong>HAMMER.Pants</strong></p>

<p>To brand Windows Store apps written in XAML, you need to override all the control styles. This sucks if you just want to change the colours to match your theme. <a href="https://github.com/Code52/HAMMER">HAMMER.Pants</a> solves this, by auto-modifying all the coloured brushes so you don&#8217;t have to pick through them. Currently, you provide a &#8220;base&#8221; colour, and HAMMER.Pants modifies that based on the luminance variation found in the original styles. That is, if you pick red, all the purples will be replaced with reds, but they&#8217;ll change in brightness slightly just like the default purples do.</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">15 Apr 2013, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://github.com/igorkulman/coding-journal/do-you-need-to-create-a-special-windows-phone-8-build-of-your-windows-phone-app/" class="post-title">Do you need to create a special Windows Phone 8 build of your Windows Phone app?</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Igor Kulman</strong>
                            
                            
                                under 
                                
                                <a class="post-category post-category-Windows Phone" href="https://github.com/igorkulman/coding-journal/categories/windows-phone">Windows Phone</a>
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>If you create a Windows Phone app and you want it to be able to run on both Windows Phone 7 and Windows Phone 8, you target Windows Phone 7 and the app runs on Windows Phone 8 automatically. But is it really enough to create a Windows Phone 7 buíld? Not if you want to create a really well designed app.</p>

<p>The problem with Windows Phone 8 from a designers point of view is that it introduces two new display resolutions. Windows Phone 7 supports just one resolution, WVGA of 800x480px. Windows Phone 8 adds WXGA (1280&#215;768) and 720p (1280&#215;720). If you run your Windows Phone 7 app on a WXGA device, the app is proportionally scaled by a factor of 1.6 to fill out the whole screen. As long as you provide all your images scaled by the same factor, the app looks ok.</p>

<p>The problem is 720p, because it is a different aspect ratio (16:9 vs 15:9). Your Windows Phone 7 app running on a 720p app is first scaled by a factor of 1.5 to 1200&#215;720 and the rest of the display (80px) is padded on top or bottom, depending on the VerticalAlignment. By default, the padding is added to the top of your app making your header 80px higher:</p>

<p><img src="/images/wp7header.png" alt="" class="pure-img" ></p>

<p>This makes all the Windows Phone 7 apps look bad on a 720p devices like the HTC 8X I currently use. If you create a Windows Phone 8 project with exactly the same XAML, the app will look ok on a 720p device, no padding added to top or bottom. Another advantage of a special Windows Phone 8 build is that the app will start much faster.</p>

<p>To sum it up, if you want your app to look great on all devices, always create a separate Windows Phone 8 build. It is usually as simple as creating a new Windows Phone 8 project and adding all the existing files as links. You can find more info about this technique on <a href="http://www.developer.nokia.com/Community/Wiki/Maintaining_a_WP7_and_WP8_version_of_a_same_Silverlight_application">Nokia Dev Wiki</a>.</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">27 Mar 2013, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://github.com/igorkulman/coding-journal/displaying-pdf-files-in-windows-store-apps/" class="post-title">Displaying PDF files in Windows Store apps</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Igor Kulman</strong>
                            
                            
                                under 
                                
                                <a class="post-category post-category-WinRT" href="https://github.com/igorkulman/coding-journal/categories/winrt">WinRT</a>
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>Displaying PDF files in a mobile apps is a valid use case and there are many iOS and Android app that do it. WinRT has no APIs for displaying PDF files. The only thing you can do with a PDF in WinRT is to display it in the default PDF viewer app using the Windows.System.Launcher.LaunchFileAsync method. This is typicaly not what you want to do. This method takes the user out of your app and more importantly the PDF can be copied, shared, etc.</p>

<p>There are a few 3rd party components for displaying PDF files in Windows Store apps, each has some problems and restrictions.</p>

<p><strong>ComponentOne PDFViewer</strong></p>

<p><a href="http://www.componentone.com">ComponentOne</a> has a <a href="http://www.componentone.com/SuperProducts/PdfViewerWinRT/">PDFViewer component</a> as part of their <a href="http://www.componentone.com/SuperProducts/StudioWinRTXAML/">Studio for WinRT XAML</a> package. This package costs $895. There are <a href="http://helpcentral.componentone.com/nethelp/PdfViewerWinRT/#!Documents/pdfviewerlimitations1.htm">many limitations</a> when using this component that you need to be aware of. If you want to have more control over the rendered PDF files, you can get all the pages as FrameworkElements and do not need to use the PDFViewer as one monolitic component. It does not support all the fonts and complex documents are rendered really messed up, it was not usable for me at all.</p>

<p><strong>Foxit Embedded PDF SDK</strong></p>

<p>Foxit has a <a href="http://www.foxitsoftware.com/products/sdk/embedded/winrt/">Embedded PDF SDK for Windows RT</a> and <a href="http://www.foxitsoftware.com/products/sdk/embedded/win8/">Embedded PDF SDK for Windows Store Apps</a> (what is the difference?). If you want to try it, you have to fill in a registration form. There is no information about pricing and you need to fill in another form to ask for a quotation. You can get the pages of the PDF files as images if you want more control, but the component only works with StorageFiles. It cannot open a custom stream (e.g: file in isolated storage with custom encryption).</p>

<p><strong>TallComponents PDFRasterizer</strong></p>

<p>TallComponents has a PDFRasterizer component that is currently in beta. You need to <a href="https://www.tallcomponents.com/betaprogram.aspx">join the beta program</a> to get access. The final version should be out in 6-8 weeks. PDFRasterizer costs 1490€ for a single app. It is just a rasterizer, you can get the pages of the PDF files as images and that is all. It works well with differents fonts and complex documents.</p>

<p><strong>PDFTron Mobile PDF SDK</strong></p>

<p><a href="http://www.pdftron.com/index.html">PDFTron</a> has a <a href="http://www.pdftron.com/pdfnet/mobile/windows8_winrt_pdf_library.html">Mobile PDF SDK</a> that works with Windows Store apps. To get a trial version you have to fill in a form where you have to describe your app. The pricing is not clear, it dependes on many factors and you need to write them an email to get a price. You can get pages from the PDF file but not in a usable format like an image.</p>

<p>So which PDF solution should you use? That dependes on your needs. I am afraid you will have to check each of them out by yourself and assess it according to your needs.</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">18 Mar 2013, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://github.com/igorkulman/coding-journal/my-windows-phone-and-windows-8-mini-libraries/" class="post-title">My Windows Phone and Windows 8 mini-libraries</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Igor Kulman</strong>
                            
                            
                                under 
                                
                                <a class="post-category post-category-Windows Phone" href="https://github.com/igorkulman/coding-journal/categories/windows-phone">Windows Phone</a><a class="post-category post-category-WinRT" href="https://github.com/igorkulman/coding-journal/categories/winrt">WinRT</a>
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>I am a big fan of open-source software. I decided to make my mini-libraries, that I use for Windows Phone and Windows 8 development, available to everyone who would be interested. Both are basically a collection of useful utilities and components that I wrote myself or found on various forums and slightly modified. Source code is available on BitBucket and packages on Nuget.</p>

<p><strong>Windows Phone</strong></p>

<p>Code: <a href="https://github.com/igorkulman/Kulman.WP7">https://github.com/igorkulman/Kulman.WP7</a></p>

<p>Nuget: <a href="https://nuget.org/packages/Kulman.WP7/">https://nuget.org/packages/Kulman.WP7/</a></p>

<p><strong>Windows 8</strong></p>

<p>Code: <a href="https://github.com/igorkulman/Kulman.WinRT">https://github.com/igorkulman/Kulman.WinRT</a></p>

<p>Nuget: <a href="https://nuget.org/packages/Kulman.WinRT">https://nuget.org/packages/Kulman.WinRT</a></p>

<p>My Windows 8 mini-library is best used with the <a href="https://nuget.org/packages/winrtxamltoolkit/">WinRTXAMLToolkit</a> that I contributed to once ot twice.</p>

<p><strong>AutoCompleteBox for WinRT</strong></p>

<p>Code: <a href="https://github.com/igorkulman/AutoCompleteBox">https://github.com/igorkulman/AutoCompleteBox</a></p>

<p>Nuget: <a href="https://nuget.org/packages/AutoCompleteBoxWinRT/">https://nuget.org/packages/AutoCompleteBoxWinRT/</a></p>

                    </div>
                </section>
                
                <h1 class="content-subhead">14 Mar 2013, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://github.com/igorkulman/coding-journal/why-are-there-no-great-windows-8-apps-because-of-winrt-a-developers-view/" class="post-title">The problem with Windows 8 development is the WinRT’s lack of capabilities</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Igor Kulman</strong>
                            
                            
                                under 
                                
                                <a class="post-category post-category-WinRT" href="https://github.com/igorkulman/coding-journal/categories/winrt">WinRT</a>
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>Let&#8217;s face it, there are no really great apps for Windows 8 and the number of trashy apps is also very low compared to the Android and iOS ecosystems. Microsoft looks really desperate to bring more apps and developers to the ecosystem. Instead of improving the API and its capabilities, Microsoft just generates <a href="http://build.windowsstore.com/keepthecash">desperately looking campaigns to improve the apps count</a>. I sometimes wonder if they ever realize that the number of apps is not important when people cannot find the apps they are used to use on Android or iOS in the Windows Store.</p>

<p><img src="/images/microsoft-surface-2-650x0.jpg" alt="" class="pure-img" ></p>

<p>So why are there so few Windows 8 apps? I will tell you my (and only my) opinion and experience. I developed a few Windows 8 apps, some of them fairly complex. I tried to develop a few really great apps but many of those projects never got done. The reason is the API (WinRT).</p>

<p>Let&#8217;s start with something (that should be) trivial. Imagine you want to <strong>display HTML files with images, CSS, JS in a WebView</strong>. It is a common scenario for displaying downloaded manuals, interactive texts, etc. It can be done on Android, iOS and even on Windows Phone by copying the data to isolated storage and pointing the WebView there.</p>

<p>This scenario is impossible in WinRT. You can reference files in Isolated Storage (Local / Roaming folders) using the ms-appdata protocol, but the WebView does not work with it. You can use the NavigateToString method to display one HTML file, but all the images, CSS, JS references must be internet URLs, you cannot reference other local files. The only way around this issue is to inline all the CSS, JS and images (as base64) to the HTML file. Really messy, painful and slow and not really an option if you have JS reading XML files and inserting external images.</p>

<p><del datetime="2013-03-21T17:08:20+00:00">There is another workaround pointed out by Javier Sosa in the comments. Instead of saving your files to Local / Roaming folders, save them to the installation folder of your app (Windows.ApplicationModel.Package.Current.InstalledLocation) and use the ms-appx-web protocol. The WebView can for some reason work with ms-appx-web but not with ms-appdata. Saving your data to the installation folder instead of data folders is quite messy in my opinion. Another problem is, that you cannot create folders in Windows.ApplicationModel.Package.Current.InstalledLocation. This means you have to preprocess your HTML,CSS,JS files and make the file structure flat.</del> Turns out this works only in debug, so it is not a viable workaround.</p>

<p>Let us continue with something as basic and common as Zip files. Windows 8 offers absolutely <a href="http://blog.kulman.sk/tampering-with-windows-store-apps-data/">no protection of your locally saved files</a> so a client may want to at least use password protected Zip files. <strong>The ZipArchive class in WinRT does not support password protected Zip files</strong>. No 3rd party Zip library can be compiled in WinRT because of a missing Security namespace. You are out of luck, <a href="http://stackoverflow.com/questions/15367922/ziparchive-with-password-in-windows-store-apps">there is no workaround</a> and it may be a deal-breaker for a security-conscious client.</p>

<p><strong>Update:</strong> <a href="https://github.com/adamhathcock/sharpcompress">SharpCompress</a> now supports WinRT! Get <a href="https://nuget.org/packages/sharpcompress/">version 0.9+ from Nuget</a>.</p>

<p>Let us assume that you want to create an interactive textbook app like there are a few on iOS. The apps should contain <strong>multimedia content like images, video, sounds, Word and Excel documents</strong>. You would assume that displaying (or better said previewing) Microsoft Word and Microsoft Excel files on a Microsoft platform would be easy. You should have learned to limit your expectations and always assume the worst by now when dealing with WinRT. You can <a href="https://www.syncfusion.com/products/winrt">display Word documents with a component for $199</a> and <a href="https://www.componentone.com/SuperProducts/SpreadWinRT/">Excel sheets with one for $1195</a>. Previewing Microsoft Office documents on iOS is easy and <a href="http://developer.apple.com/library/ios/#DOCUMENTATION/QuickLook/Reference/QuickLookFrameworkReference_iPhoneOS/_index.html">built-in</a>.</p>

<p>Do you need your app to <strong>display PDF files</strong>? There are a few solutions, mainly in beta and each has some flaws. I will write a <a href="http://blog.kulman.sk/displaying-pdf-files-in-windows-store-apps/">separate article about rendering PDF files in WinRT</a> but, again, be prepared to spend at least $900 for something that can be done for free on other platforms. Sure, you can send the PDF file to the default PDF viewer but that is usually not what you want. It takes the user out of your app and more importantly you cannot protected the PDF content from copying, sharing, etc.</p>

<p>Do not forget about the <a href="http://blog.kulman.sk/few-thoughts-about-the-windows-phone-store-certification-process/">strange behavior of the Windows Store certification process</a> and the bugs.</p>

<p>I am really fed up with telling customers who want an (complex iOS clone) app the magic words &#8220;it is not possible in Windows 8&#8221;.</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">05 Feb 2013, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://github.com/igorkulman/coding-journal/detecting-encoding-of-uploaded-file-in-asp-net-mvc/" class="post-title">Detecting encoding of uploaded file in ASP.NET MVC</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Igor Kulman</strong>
                            
                            
                                under 
                                
                                <a class="post-category post-category-Programming in general" href="https://github.com/igorkulman/coding-journal/categories/programming-in-general">Programming in general</a>
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>Uploading a file in ASP.NET MVC is very easy, but there is no easy way to detect the encoding of a uploaded text file. However you can use the fact if you try to read the file with a wrong encoding, you get an DecoderFallbackException. So how do you put everything together?</p>

<p>First, get a stream of the uploaded file.</p>

<p><script src="https://gist.github.com/5849381.js"></script></p>

<p>Next, read the whole file to a byte array</p>

<p><script src="https://gist.github.com/5849384.js"></script></p>

<p>Finally the trick is to try all the encodings you think the file may be in and chech if if fails or not</p>

<p><script src="https://gist.github.com/5849390.js"></script></p>

                    </div>
                </section>
                
                <h1 class="content-subhead">01 Feb 2013, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://github.com/igorkulman/coding-journal/generating-all-permutations-of-a-list-how-hard-can-that-be/" class="post-title">Generating all permutations of a list … how hard can that be?</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Igor Kulman</strong>
                            
                            
                                under 
                                
                                <a class="post-category post-category-Functional programming" href="https://github.com/igorkulman/coding-journal/categories/functional-programming">Functional programming</a><a class="post-category post-category-Programming in general" href="https://github.com/igorkulman/coding-journal/categories/programming-in-general">Programming in general</a>
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>While reading an article that had nothing in common with programming I came upon a sudden need to find a way to generate all the permutations of a list, or more exactly a string (it is just a list of characters). As lazy as I am I tried to google a few examples of C# code that does exactly that. I was horrified that programmers could come up with the complicated ways I found. Not to mention programmers writing a ton of unit test and classes before actualy writing the code that solves to problem.</p>

<p>The problem is naturally recursive. All the permutations of a list of n items consit of each of the n items combined with all the permutations of the list without the actual item. So if you have a list of let&#8217;s say items (a,b,c), all the permutations are (a+permutation((b,c)) + (b+permutations((a,c))) + (c+permutations((a,b)).</p>

<p>First I came up with F# code to solve it, after some yield googling:</p>

<p><script src="https://gist.github.com/5849397.js"></script></p>

<p>When I started to think about a C# solution I got stuck. The functional solution was still resonating in my head so I ended up basically rewriting F# to C#:</p>

<p><script src="https://gist.github.com/5849399.js"></script></p>

<p>Looking for other functional solutions I found a realy neat way to generate permutations in Haskell, thanks to the generators</p>

<p><script src="https://gist.github.com/5849402.js"></script></p>

                    </div>
                </section>
                
            </div>
            
<div class="pagination">
  <nav role="pagination" class="post-list-pagination">
      
      <a href="/tags/c/page/4/" class="post-list-pagination-item pure-button post-list-pagination-item-prev">
        <i class="fa fa-angle-double-left"></i>&nbsp;Newer
      </a>
      
    <span class="post-list-pagination-item post-list-pagination-item-current">Page 5 of 7</span>
    
      <a href="/tags/c/page/6/" class="post-list-pagination-item pure-button post-list-pagination-item-next">
        Older&nbsp;<i class="fa fa-angle-double-right"></i>
      </a>
    
  </nav>
</div>


            <div class="footer">
    <div class="pure-menu pure-menu-horizontal pure-menu-open">
        <ul>
            <li>Powered by <a class="hugo" href="http://hugo.spf13.com/" target="_blank">hugo</a></li>
        </ul>
    </div>
</div>
<script src="https://github.com/igorkulman/coding-journal/js/all.min.js"></script>
        </div>
    </div>
</div>

<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-49528577-2', 'auto');
ga('send', 'pageview');

</script>

</body>
</html>

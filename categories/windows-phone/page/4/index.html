<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Windows Phone &middot; Coding Journal</title>

    <meta name="description" content="Adventures in the world of C#, F# and WinRT">

    <meta name="generator" content="Hugo 0.14" />
    <meta name="twitter:card" content="summary">
    
    <meta name="twitter:title" content="Windows Phone &middot; Coding Journal">
    <meta name="twitter:description" content="Adventures in the world of C#, F# and WinRT">

    <meta property="og:type" content="article">
    <meta property="og:title" content="Windows Phone &middot; Coding Journal">
    <meta property="og:description" content="Adventures in the world of C#, F# and WinRT">

    <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:400,700|Oxygen:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/pure-min.css">
    <!--[if lte IE 8]>
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/grids-responsive-old-ie-min.css">
    <![endif]-->
    <!--[if gt IE 8]><!-->
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/grids-responsive-min.css">
    <!--<![endif]-->

    <link rel="stylesheet" href="http://igorkulman.github.io/coding-journal/css/all.min.css">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">

    <link rel="alternate" type="application/rss+xml" title="Coding Journal" href="http://igorkulman.github.io/coding-journal/index.xml" />
</head>
<body>


<div id="layout" class="pure-g">
    <div class="sidebar pure-u-1 pure-u-md-1-4">
    <div class="header">
        <hgroup>
            <h1 class="brand-title"><a href="http://igorkulman.github.io/coding-journal">Coding Journal</a></h1>
            <h2 class="brand-tagline"> Adventures in the world of C#, F# and WinRT </h2>
        </hgroup>

        <nav class="nav">
            <ul class="nav-list">
                
                <li class="nav-item">
                    <a class="pure-button" href="https://twitter.com/igorkulman"><i class="fa fa-twitter"></i> Twitter</a>
                </li>
                
                
                <li class="nav-item">
                    <a class="pure-button" href="https://github.com/igorkulman "><i class="fa fa-github-alt"></i> github</a>
                </li>
                
                <li class="nav-item">
                    <a class="pure-button" href="http://igorkulman.github.io/coding-journal/index.xml"><i class="fa fa-rss"></i> rss</a>
                </li>
            </ul>
        </nav>

<div>
<h2>About me</h2>

<p>Igor Kulman is currently working as Windows Phone developer, also building applications for Microsoft Azure and playing with F#.</p>
<p>
Interested in programming languages, functional programming and data science.</p>

</div>

    </div>
</div>


    <div class="content pure-u-1 pure-u-md-3-4">
        <div>
            
            <div class="posts">
                
                <h1 class="content-subhead">06 Jun 2013, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="http://igorkulman.github.io/coding-journal/inotifypropertychanged-the-easy-way-in-windows-phone-and-windows-8/" class="post-title">INotifyPropertyChanged the easy way in Windows Phone and Windows 8</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Igor Kulman</strong>
                            
                            
                                under 
                                
                                <a class="post-category post-category-Windows Phone" href="http://igorkulman.github.io/coding-journal/categories/windows-phone">Windows Phone</a><a class="post-category post-category-WinRT" href="http://igorkulman.github.io/coding-journal/categories/winrt">WinRT</a>
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>If you develop Windows Phone, Windows 8, Silverlight or WPF apps using the MVVM pattern, you are familiar with the INotifyPropertyChanged interface.</p>

<p><strong>Typical implementation</strong></p>

<p>In a typical implementation, you usually have a base class implementing the interface, like</p>

<p><script src="https://gist.github.com/5849361.js"></script></p>

<p>or use a framework like MVVMLight, Prism or Caliburn Micro that provides such base class for you. In your view models you have properties using the PropertyChanged method</p>

<p><script src="https://gist.github.com/5849364.js"></script></p>

<p>You do not need to create such properties by hand, you can <a href="http://www.kulman.sk/data/down/propn.snippet">use a snippet</a>, but it is still a lot of code to do such a simple thing.</p>

<p><strong>Meet Fody</strong></p>

<p><a href="https://github.com/Fody/Fody">Fody</a> is an assembly weaver for .NET that plugs to the build process of your project and modifies the IL of your assemblies according to your needs. It supports .net 3.5, .net 4, .net 4.5, Silverlight 4, Silverlight 5, Windows Phone 7, Windows Phone 8, Metro on Windows 8, Mono, MonoTouch, MonoDroid and PCL. No installation or configuration is required, you just need to install the <a href="http://nuget.org/packages/Fody/">Fody Nuget package</a>.</p>

<p><strong>INotifyPropertyChanged using Fody (80% of the time)</strong></p>

<p>Fody has a <a href="https://github.com/Fody/PropertyChanged">PropertyChanged addin</a> that does all the INotifyPropertyChanged plumbing for you. If you want the same behavior as in my typical implementation example, there is no need for a base class. Install the <a href="https://github.com/Fody/PropertyChanged">PropertyChanged.Fody Nuget package</a>, decorate your view model class with the ImplementPropertyChanged attribute and use just basic properties</p>

<p><script src="https://gist.github.com/5849367.js"></script></p>

<p>That is it. Less code, the same behaviour. You can verify it with tools like <a href="http://www.telerik.com/justdecompile.aspx">Telerik JustDecompile</a>.</p>

<p><strong>The remaining 20%</strong></p>

<p>Fody does all the plumbing for you. It even knows that the FullName property uses FirstName and Surname and raises the PropertyChanged event for it when any og the two properties changes. The PropertyChanged.Fody addin <a href="https://github.com/Fody/PropertyChanged/wiki/Attributes">contains attributes</a>, that you can use to define dependencies</p>

<p><script src="https://gist.github.com/5849371.js"></script></p>

<p>or to raise the PropertyChanged event for any other property</p>

<p><script src="https://gist.github.com/5849373.js"></script></p>

<p>Sometimes you want to execute some additional code in the setter. Fody allows it, just create a method with the <a href="https://github.com/Fody/PropertyChanged/wiki/On_PropertyName_Changed">name On_PropertyName_Changed</a></p>

<p><script src="https://gist.github.com/5849376.js"></script></p>

<p>If you use a framework and you want to raise the PropertyChanged event through a method of this framework, it is not a problem. You just need to <a href="https://github.com/Fody/PropertyChanged/wiki/Options">set the EventInvokerNames options</a>. The Fody <a href="https://github.com/Fody/PropertyChanged/wiki/SupportedToolkits">documentation even describes what to set for some of the frameworks</a> so you do not have to figure it out for yourself.</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">05 Jun 2013, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="http://igorkulman.github.io/coding-journal/beware-of-removing-localizations-from-your-windows-phone-apps/" class="post-title">Beware of removing localizations from your Windows Phone apps</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Igor Kulman</strong>
                            
                            
                                under 
                                
                                <a class="post-category post-category-Windows Phone" href="http://igorkulman.github.io/coding-journal/categories/windows-phone">Windows Phone</a>
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>When I released version 2.0 of my app <a href="http://phototimeline.kulman.sk/">Photo Timeline</a>, some users reported updating problems. I finally found out what caused the problem and submited a new build to the Windows Phone store.</p>

<p>In my app I had three localizations: en-US (default), en and cs. I do not exactly remember why I had English twice as localization. I decided to remove the en localization thinking that nothing will break and that was a mistake.</p>

<p><strong>Once you add a localization to your app, never remove it!</strong> If you do so, all the users who use your app with that localization will have update problems.</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">20 May 2013, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="http://igorkulman.github.io/coding-journal/getting-paid-for-your-windows-phone-apps-is-a-real-pain/" class="post-title">Windows Phone Store and problems with payments</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Igor Kulman</strong>
                            
                            
                                under 
                                
                                <a class="post-category post-category-Windows Phone" href="http://igorkulman.github.io/coding-journal/categories/windows-phone">Windows Phone</a>
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>I have been a Windows Phone developer for over a year now and my paid apps made me some money. The small amount of money made is not interesting, more interesting is that getting the money from Microsoft has been a real pain. Maybe because I live <strong>outside the US</strong>, maybe it is a geographically independent problem. If you are a developer and live outside the US, I really want to hear your experience.</p>

<p><strong>No exact info about payment rules?</strong></p>

<p>First, there is no exact information about how often a developer gets paid. The <a href="http://msdn.microsoft.com/en-us/library/windowsphone/help/jj206722(v=vs.105).aspx">getting paid section</a> in the Windows Phone Dev Center only informs you about tax and bank info, that you need to provide to get paid. I remember that I once heard that developers get paid when their earnings get pass $200, but I was not able to get any official info about this. The first payment I got from Windows Phone Store was $52.50 and I know a developer with $900 earned and no money sent to him, so I guess the $200 limit is not true.</p>

<p>The <a href="http://msdn.microsoft.com/en-us/library/windows/apps/jj193593.aspx">$200 limit should be true for Windows Store</a>, but Windows Phone Store is a different store with different rules.</p>

<p><strong>No info about pending payments</strong></p>

<p>Suppose the $200 limit is true. (Windows Store states: &#8220;To get paid from the Windows Store, you must have at least $200 in app sales pending payment&#8221;) It would be really useful to know how much money your apps have made in total and from the last payout, or in other words, the pending payments. Microsoft does not provide such info. Even the support is not able (or willing) to tell you this info.</p>

<p>The only info you get is the number of paid downloads of your apps. You need to multiple this per-app numbers by the price of your apps and subtract the 30% cut that Microsoft keeps for themselves. If you changed the price of your apps at some point, or have different pricing for different countries, the math becomes really overwhelming.</p>

<p><strong>Distimo to the rescue?</strong></p>

<p><a href="http://www.distimo.com/">Distimo</a> is a great app analytics service that supports Windows Phone Store. You give it your credentials and it downloads and displays all the data from Windows Phone Store for you. And guess what, it can display the amount of money you made. I do not know how they do it. Maybe they use the exports that Windows Phone Store offers, but when I try to download them, they are always empty. Maybe they just do the math I mentioned&#8230; Anyway, it really sucks that you have to use a 3rd party tool to get the info that Microsoft has and should provide to a developer.</p>

<p><strong>Really getting paid</strong></p>

<p>Only my first payment of the strange $52.50 was automatic. When my next earnings according to my calculations crossed the limit of $200 (or $252.50 taking the $52.50 payment into account), I was expecting to get paid. The payment did not come for months. I asked my local Microsoft branch for more info, but I did not get any useful answers. So I tried another tactic.</p>

<p>I made a bit of a fuss about this issue on Twitter, where many developers from my country joined with their complaints about being in the same situation, mentioning our local Microsoft evangelist in their tweets. In two weeks, we all got our payments from Microsoft (coincidence?).</p>

<p>The payment did not come in $ but in CZK. Its value was approximately $240. The Windows Phone Store now shows me I received two payments in two different currencies and in some statistics adds the two payments up as they were both in CZK ($52.50 + 4,806.88 CZK = 4859.38 CZK in their world).</p>

<p><strong>Answers from Microsoft</strong></p>

<p>I contacted my local Microsoft branch and sent the following <strong>questions</strong>to two evangelists, hoping to get answers for me and other developers:</p>

<p>When does a developer get paid from Windows Phone Store? Is there any limit that needs to be crossed (like $200 in Windows Store)?</p>

<p>Are these getting paid rules officialy stated anywhere? The <a href="http://msdn.microsoft.com/en-us/library/windowsphone/help/jj206722(v=vs.105).aspx">MSDN page</a> does not contain any useful info.</p>

<p>Is there a way to know how much I have made in total / since last payout? I mean other way that doing the math from app downloads and prices. (A fellow developer told me that even your support does not know / want to give the info.)</p>

<p>Are payments automatic? (If there are exact rules)</p>

<p>To get my last payment I needed to contact out local MS branch, do I need to do it every time I feel I made $200 since my last payment (which is now)?</p>

<p>I got the following <strong>answers</strong> (after involving other developers and putting some pressure on them):</p>

<p>7b of the APA: Application Proceeds will be calculated on a monthly basis by deducting the Store Fee from Net Receipts for the applicable month. If total Application Proceeds payable to you for a month exceed USD$200 (or its equivalent in local currency), then Microsoft will remit payment to you in</p>

<p>accordance with this Section 7.</p>

<p>Can you clarify what you mean by rules? As long as a dev has over $200, and has valid bank &amp; tax, then they will be attempted in payout.</p>

<p>Currently we do not have a report that provides the total of the settled transactions for a developer.</p>

<p>Payments are automatically attempted once the developer reaches the threshold</p>

<p>No, payments are automatically attempted once the developer reaches the threshold</p>

<p><strong>Conclusion</strong></p>

<p>Microsoft confirmed the $200 limit for getting paid altough my experience does not corespond to this statement. I still wonder why this information is not available somewhere on AppHub or MSDN. They sent me a file called Windows-Phone-Store-Application-Provider-Agreement.pdf but I was not able to find any reference to it anywhere, just the whole file at a <a href="http://cmsresources.windowsphone.com/devcenter/en-us/legal/Windows-Phone-Store-Application-Provider-Agreement.pdf">strange url</a>. Having this crucial info hidden in a PDF file where no developer can ever find it does not seem ok to me. The whole payments process does not look very transparent.</p>

<p>They also confirmed that there is no way to know how much money you made, so you have to rely on Distimo. They assured me that my next payment will be automatic, so I guess I just have to wait and see &#8230;</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">18 Apr 2013, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="http://igorkulman.github.io/coding-journal/useful-tools-for-windows-store-developers/" class="post-title">Useful tools for Windows Store developers</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Igor Kulman</strong>
                            
                            
                                under 
                                
                                <a class="post-category post-category-Windows Phone" href="http://igorkulman.github.io/coding-journal/categories/windows-phone">Windows Phone</a><a class="post-category post-category-WinRT" href="http://igorkulman.github.io/coding-journal/categories/winrt">WinRT</a>
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>I recently discovered two really neet tools that helped me with Windows Store app development.</p>

<p><strong>Windows Store Icon Maker</strong></p>

<p>When creating a Windows Store or Windows 8 apps, there are many icon sizes you have to provide. If you do nont wat to do all the resizing by yourself, you can use the <a href="https://github.com/DavidBurela/WindowsMarketplaceIconMaker">Windows Store Icon Maker</a>. It is a fork of the <a href="http://wpiconmaker.codeplex.com/">Windows Phone Icons Maker</a> with added support for Windows Store apps. It takes a 300x300px icon as input and outputs all the square icons you need.</p>

<p><strong>HAMMER.Pants</strong></p>

<p>To brand Windows Store apps written in XAML, you need to override all the control styles. This sucks if you just want to change the colours to match your theme. <a href="https://github.com/Code52/HAMMER">HAMMER.Pants</a> solves this, by auto-modifying all the coloured brushes so you don&#8217;t have to pick through them. Currently, you provide a &#8220;base&#8221; colour, and HAMMER.Pants modifies that based on the luminance variation found in the original styles. That is, if you pick red, all the purples will be replaced with reds, but they&#8217;ll change in brightness slightly just like the default purples do.</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">15 Apr 2013, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="http://igorkulman.github.io/coding-journal/do-you-need-to-create-a-special-windows-phone-8-build-of-your-windows-phone-app/" class="post-title">Do you need to create a special Windows Phone 8 build of your Windows Phone app?</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Igor Kulman</strong>
                            
                            
                                under 
                                
                                <a class="post-category post-category-Windows Phone" href="http://igorkulman.github.io/coding-journal/categories/windows-phone">Windows Phone</a>
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>If you create a Windows Phone app and you want it to be able to run on both Windows Phone 7 and Windows Phone 8, you target Windows Phone 7 and the app runs on Windows Phone 8 automatically. But is it really enough to create a Windows Phone 7 buíld? Not if you want to create a really well designed app.</p>

<p>The problem with Windows Phone 8 from a designers point of view is that it introduces two new display resolutions. Windows Phone 7 supports just one resolution, WVGA of 800x480px. Windows Phone 8 adds WXGA (1280&#215;768) and 720p (1280&#215;720). If you run your Windows Phone 7 app on a WXGA device, the app is proportionally scaled by a factor of 1.6 to fill out the whole screen. As long as you provide all your images scaled by the same factor, the app looks ok.</p>

<p>The problem is 720p, because it is a different aspect ratio (16:9 vs 15:9). Your Windows Phone 7 app running on a 720p app is first scaled by a factor of 1.5 to 1200&#215;720 and the rest of the display (80px) is padded on top or bottom, depending on the VerticalAlignment. By default, the padding is added to the top of your app making your header 80px higher:</p>

<p><img src="/images/wp7header.png" alt="" class="pure-img" ></p>

<p>This makes all the Windows Phone 7 apps look bad on a 720p devices like the HTC 8X I currently use. If you create a Windows Phone 8 project with exactly the same XAML, the app will look ok on a 720p device, no padding added to top or bottom. Another advantage of a special Windows Phone 8 build is that the app will start much faster.</p>

<p>To sum it up, if you want your app to look great on all devices, always create a separate Windows Phone 8 build. It is usually as simple as creating a new Windows Phone 8 project and adding all the existing files as links. You can find more info about this technique on <a href="http://www.developer.nokia.com/Community/Wiki/Maintaining_a_WP7_and_WP8_version_of_a_same_Silverlight_application">Nokia Dev Wiki</a>.</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">18 Mar 2013, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="http://igorkulman.github.io/coding-journal/my-windows-phone-and-windows-8-mini-libraries/" class="post-title">My Windows Phone and Windows 8 mini-libraries</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Igor Kulman</strong>
                            
                            
                                under 
                                
                                <a class="post-category post-category-Windows Phone" href="http://igorkulman.github.io/coding-journal/categories/windows-phone">Windows Phone</a><a class="post-category post-category-WinRT" href="http://igorkulman.github.io/coding-journal/categories/winrt">WinRT</a>
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>I am a big fan of open-source software. I decided to make my mini-libraries, that I use for Windows Phone and Windows 8 development, available to everyone who would be interested. Both are basically a collection of useful utilities and components that I wrote myself or found on various forums and slightly modified. Source code is available on BitBucket and packages on Nuget.</p>

<p><strong>Windows Phone</strong></p>

<p>Code: <a href="https://github.com/igorkulman/Kulman.WP7">https://github.com/igorkulman/Kulman.WP7</a></p>

<p>Nuget: <a href="https://nuget.org/packages/Kulman.WP7/">https://nuget.org/packages/Kulman.WP7/</a></p>

<p><strong>Windows 8</strong></p>

<p>Code: <a href="https://github.com/igorkulman/Kulman.WinRT">https://github.com/igorkulman/Kulman.WinRT</a></p>

<p>Nuget: <a href="https://nuget.org/packages/Kulman.WinRT">https://nuget.org/packages/Kulman.WinRT</a></p>

<p>My Windows 8 mini-library is best used with the <a href="https://nuget.org/packages/winrtxamltoolkit/">WinRTXAMLToolkit</a> that I contributed to once ot twice.</p>

<p><strong>AutoCompleteBox for WinRT</strong></p>

<p>Code: <a href="https://github.com/igorkulman/AutoCompleteBox">https://github.com/igorkulman/AutoCompleteBox</a></p>

<p>Nuget: <a href="https://nuget.org/packages/AutoCompleteBoxWinRT/">https://nuget.org/packages/AutoCompleteBoxWinRT/</a></p>

                    </div>
                </section>
                
                <h1 class="content-subhead">28 Feb 2013, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="http://igorkulman.github.io/coding-journal/few-thoughts-about-the-windows-phone-store-certification-process/" class="post-title">Few thoughts about the Windows (Phone) Store certification process</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Igor Kulman</strong>
                            
                            
                                under 
                                
                                <a class="post-category post-category-Windows Phone" href="http://igorkulman.github.io/coding-journal/categories/windows-phone">Windows Phone</a>
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>Passing the certification in Windows Phone Store and Windows Store can be a very painful process, but after a few tries you get enough experience to pass your apps on the first try. You may sometimes get a tester who is really dumb and fails your app for a made up reason but usually it is just enough to submit it again so another testers gets to test it. Lately I have been seeing a strange shift in the testing quality done in the certification process.</p>

<p><strong>Windows Phone Store</strong></p>

<p>The certification process used to discover bugs I overlooked, so it was quite useful sometimes. But it is not anymore. Let me give you an example. I wanted to change one of my Windows Phone apps from free to paid with a 3 day trial. I have this functionality implemented in another of my apps so I simply copied the trial page, set is as the start page. I tested it in trial mode, it showed, in purchased mode, the app showed the real start page. I was under the impression that everything worked just fine.</p>

<p>The app update passed the certification process without problems although it had one serious flaw discovered by new users. When a user started the app in trial mode, the trial page was shown. The trial page consisted of two buttons. One button to buy the app and another button to continue the trial. The button to continue the trial made the app crash. It is definitely my fault for not testing it properly but what did the Microsoft tester do for 5 days that they did not discover this bug? They may have tested in in purchased mode only, but that does not make any sense. I am inclined to believe the did not test it at all, just held it for 5 days.</p>

<p><strong>Windows Store</strong></p>

<p>The certification requirements for Windows Store apps are more strict that the ones in the Windows Phone Store. The testers can fail you for reasons like &#8220;the app does not do anything useful&#8221;. And they sometimes do when they do not get what your app is supposed to do, usually when your app is not in English. The rule that the app should do something useful is a great rule in my opinion. But take a look at the Windows Store, there are tons of trashy apps that are not useful.</p>

<p>Another problematic rule is the rule that your app must be (or seem) finished, especially when you combine this rule with a dumb tester. I had problems with this rule with my tv guide app. It got rejected many times because the tester complained he could not watch tv using the app. I had to write a note explaining what a tv guide means and keep resubmitting it until I found an intelligent tester.</p>

<p>On the other hand when I updated one Windows Store app and broke half the functionality in the process (I am not a very thorough tester) nobody complained and the app passed the certification process in a few hours.</p>

<p>My experience is that the certification process in both store works very strange. They fail you for made up reasons and pass your apps when they are broke. Maybe there is something broken with the process.</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">30 Jan 2013, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="http://igorkulman.github.io/coding-journal/using-custom-fonts-in-windows-phone-apps/" class="post-title">Using custom fonts in Windows Phone apps</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Igor Kulman</strong>
                            
                            
                                under 
                                
                                <a class="post-category post-category-Windows Phone" href="http://igorkulman.github.io/coding-journal/categories/windows-phone">Windows Phone</a>
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>Windows Phone allows yout to use custom TTF fonts in your apps. Using a custom font from XAML or C# is easy, but your run into troubles when you want to use if from a Background Agent (e.g: for updating a Live Tile).</p>

<p><strong>Adding font to solution</strong></p>

<p>The custom font must be a TTF, you can also use a ZIP file with multiple TTF files. You need to know the name of the font to identify it. Add the font file to your solution and set its build action to Content.</p>

<p><strong>Custom font and XAML</strong></p>

<p>Using a custom font in XAML is very straightforward. You just need to set the <em>FontFamily</em> property to the font file path followed by a hash (#) and the font name:</p>

<p><script src="https://gist.github.com/5849406.js"></script></p>

<p><strong>Custom font and C#</strong></p>

<p>Using a custom font from C# follows the same principle. You just need to set the <em>FontFamily</em> property to a new FontFamily instance created by the constructor that takes a font family name as a parameter:</p>

<p><script src="https://gist.github.com/5849415.js"></script></p>

<p><strong>Custom font and Background Agent</strong></p>

<p>Using a custom font from a Background Agent is a bit tricky. If you want to use it to render an image for your Live Tile, you will find out, that none of the before mentioned steps work. The font just does not get rendered. I suspect that the font does not get loaded because of some bug in the Silverlight runtime.</p>

<p>A possible workaround is to to read the font file as a stream and set this stream to the TextBlock&#8217;s <em>FontSource</em> property before setting the <em>FontFamily</em> property:</p>

<p><script src="https://gist.github.com/5849421.js"></script></p>

                    </div>
                </section>
                
                <h1 class="content-subhead">10 Dec 2012, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="http://igorkulman.github.io/coding-journal/why-i-do-not-like-windows-phone-programming-anymore/" class="post-title">Why I do not like Windows Phone programming anymore</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Igor Kulman</strong>
                            
                            
                                under 
                                
                                <a class="post-category post-category-Windows Phone" href="http://igorkulman.github.io/coding-journal/categories/windows-phone">Windows Phone</a>
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>Before I start with the actual arguments I feel a need to state my background first so you do not mistake me with just another hater rattling about things he does not know. I have been a long time .NET developer, I have worked with winforms, webforms, mvc, compact framework. I really like C# and love F#. In February I started to work as a full time Windows Phone developer. Although I have been programming exclusively for Windows 8 for the last few months I have a ton of experience with Windows Phone programming.</p>

<p><strong>Good old Windows Phone 7 times</strong></p>

<p>I really like Windows Phone 7 as a programmer. Although capabilities of this mobile OS are very limited compared to other platforms, the things you can do can be done easily and reliably. The OS is based on Silverlight, which is a mature platform. Everything works as you would expect.</p>

<p><strong>The abomination called Windows Phone 8</strong></p>

<p>When I first got my hands on a Windows Phone 8 phone I was really disappointed. I wrote two concrete post about <a href="http://blog.kulman.sk/store-region-messed-up-in-windows-phone-8/">troubles with Windows Phone Store region</a> and an <a href="http://blog.kulman.sk/htc-8x-windows-phone-8-and-playing-music/">unaccountable approach to MP3 tags</a> but lets take it more generally. Windows Phone 8 feels like Windows Phone 7 written from scratch using another technology, visually looking nearly the same but full of bugs and unfinished things. I am really amazed at things that worked on Windows Phone 7 but work much worse on Windows Phone 8. I thought that only Czech and Slovak people suffered from the &#8220;not invented here&#8221; syndrome but clearly it might be a more widespread disease.</p>

<p>The advocates of throwing away Silverlight and writing everything from scratch always tell you that it allows you to share your code with Windows 8, use the same APIs and program the same way. And they try hard to persuade you that all the Windows Phone 7 apps run great on Windows Phone 8. Neither of this statements are completely true.</p>

<p><strong>Running Windows Phone 7 apps on Windows Phone 8</strong></p>

<p>The majority of Windows Phone 7 apps run ok on Windows Phone 8 but your own app never falls into that ok category. If you do not use any problematic APIs yours will be fine just with replacing all your graphic resources with a twice the size equivalent. And you should definitely do so, because all the icons and backgrounds look ugly scaled up on a high resolution phones like the HTC 8X. The splashcreens also look ugly scaled up but there is nothing you can do about it, a splashscreen in a Windows Phone 7 project must always be 480&#215;800.</p>

<p>There are <a href="http://msdn.microsoft.com/en-us/library/windowsphone/develop/jj206947(v=vs.105).aspx">some API incompatibilities</a> you should be aware of and also some undocumented problems. For instance if you use udp multicast, your application will not work on Windows Phone 8. It will join the multicast group but will neither send nor receive any packets. No error or exception thrown, it just will not work. What is even worse is that <a href="http://stackoverflow.com/questions/13702991/is-there-a-way-to-opt-out-from-wp8-when-submiting-an-windows-phone-app/">you cannot opt-out from Windows Phone 8</a> in the Windows Phone Store. That means that if you upload your Windows Phone 7 app to the Windows Phone Store and you know that it does not work on Windows Phone 8, there is no way to ban it from being installed on Windows Phone 8 devices. At least no way for you, apps like WhatsApp can do it.</p>

<p><strong>Sharing code between Windows 8 and Windows Phone 8</strong></p>

<p>The biggest benefit of throwing away Silverlight and using the same kernel as Windows 8 should be the before-mentioned ability to share code when programming for both platforms. The Windows Phone 8 API is only a subset of the Windows 8 API (WinRT) so you cannot share everything. Take a simple task, downloading a string from the internet. In Windows Phone 7 you would use the WebClient class, in Windows 8 it is not available, so you have to go a bit deeper and use the HttpHandler class. There is no HttpHandler only WebClient so no sharing of code here. I can state many more examples.</p>

<p>Sometimes you find APIs in Windows Phone 8 from phone Windows Phone 7 and Windows 8 and you are very surprised by it (I was). One example can be that to store your app&#8217;s settings you can use IssolatesStorageSettings from Windows Phone 7 and ApplicationData.Current.LocalSettings from Windows 8. It is a bit strange you say to yourself and choose to use the latter to be able to share the code with Windows 8. You implement your app using this Windows 8 API, the app compiles without problems and then you run the app. What do you get? A <a href="https://twitter.com/igorkulman/status/276698899689914368">NotImplementedException</a>! This makes me want to punch someone into the face. So why is this included in the API if it is not implemented? It should not be there or at least the compilers should warn you. There are many more Windows 8 APIs that will throw you a NotImplementedException.</p>

<p><strong>New era?</strong></p>

<p>Trying to say something positive; if you are a C++, web or game developer that you can use for skill in Windows Phone 8 programming, if you for some reason decide to target this (to be honest with ourselves) irrelevant mobile platform. If you are a C# developer the Windows Phone 8 development sucks for you. The same can be said about Windows 8 development, where creating a content app in HTML is much easier that trying to bend XAML to your needs (maybe I will write a separate post about this). Quite an interesting twist, would you not say?</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">24 Nov 2012, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="http://igorkulman.github.io/coding-journal/htc-8x-windows-phone-8-and-playing-music/" class="post-title">HTC 8X, Windows Phone 8 and playing music</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Igor Kulman</strong>
                            
                            
                                under 
                                
                                <a class="post-category post-category-Windows Phone" href="http://igorkulman.github.io/coding-journal/categories/windows-phone">Windows Phone</a>
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>I use my Nokia Lumia 800 also as a music player, with a few annoyances but nothing I could not live with. When I tried to use the HTC 8X with Windows Phone 8 as a music player, the situation was quite different.</p>

<p>The first thing that annoys me is more of a HTC&#8217;s fault than Windows Phone&#8217;s. The HTC 8X has Beats Audio. It does not really say what it is or does, it just says it is there. Every time you plug in your headset, a notification sound is played and a toast appears informing you that the Beats Audio is on. You can disable the sound only using the disable all other notifications option in settings, so you may loose some notifications you need. Disabling the toast is impossible. I naively thought that if I disable the Beats Audio completely the notification goes away. Silly me. The notifications just changes from Beats Audio on to Beats Audio off every damn time you plug in your headset.</p>

<p>The thing I really hate and makes me unable to use Windows Phone 8 as a music player is the music app&#8217;s (I guess it is called XBOX Music) ignorance to my ID3 tags. I copied one album to the phone&#8217;s Music directory in explorer. All the songs from this album had ID3 v1 and v2 filled in. The music app recognized it as some bullshit album with unknown artist and unknown song names and downloaded an american flag on blue curtain as its cover. Windows Phone 7 had no problem recognizing it, neither had Zune. I had the same issue with almost every other album I copied to the phone.</p>

<p>I deleted all the albums using explorer, but they did not disappear from the music app. I could not find a way to delete them from the library. I even installed the terrible synchronization app but the song records could not be deleted using it either. The only thing that helped was a complete reset of the phone deleting all the data.</p>

<p>If anyone knows how to make the music app on Windows Phone 8 behave as a user would expect, please let me know. If it is possible at all.</p>

<p><strong>Update:</strong> Thanks to Radek Hulán (in comments) I was able to solve it. Windows Phone 8 does not support ID3 2.4 like every other sofware just 2.3. You need to convert all your 2.4 tags to 2.3 with a software like <a href="http://www.mp3tag.de/en/">MP3Tag</a>. If you want to sync by albums, you cannot do that, you need to create a playlist for each album. It looks like the usability and ease of use got reimagined.</p>

                    </div>
                </section>
                
            </div>
            
<div class="pagination">
  <nav role="pagination" class="post-list-pagination">
      
      <a href="/categories/windows-phone/page/3/" class="post-list-pagination-item pure-button post-list-pagination-item-prev">
        <i class="fa fa-angle-double-left"></i>&nbsp;Newer
      </a>
      
    <span class="post-list-pagination-item post-list-pagination-item-current">Page 4 of 5</span>
    
      <a href="/categories/windows-phone/page/5/" class="post-list-pagination-item pure-button post-list-pagination-item-next">
        Older&nbsp;<i class="fa fa-angle-double-right"></i>
      </a>
    
  </nav>
</div>


            <div class="footer">
    <div class="pure-menu pure-menu-horizontal pure-menu-open">
        <ul>
            <li>Powered by <a class="hugo" href="http://hugo.spf13.com/" target="_blank">hugo</a></li>
        </ul>
    </div>
</div>
<script src="http://igorkulman.github.io/coding-journal/js/all.min.js"></script>
        </div>
    </div>
</div>

<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-49528577-2', 'auto');
ga('send', 'pageview');

</script>

</body>
</html>

<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="msvalidate.01" content="5B57D04D465AB9C871A8DD4414956DB4" />
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Using Hockey App to distribute Windows Phone apps &middot; Coding Journal</title>

    <meta name="description" content="Distributing Windows Phone apps to testers has always been a pain. The Private Beta in the Windows Store intended for this is not very flexible and it got much worse with Windows 10 (generating promotional code that can take up to 24 hours). One of the better ways to solve the beta build distribution is using a service like [Hockey App](http://hockeyapp.net/), that Microsoft recently acquired. To be able to use Hockey App (or any other service) you need to buy a $299 certificate from Symantec. You then use the certificate to sign the XAP or APPX files of your app. Those signed binaries can be than installed on devices with the correct application enrollment token directly from Hockey App, bypassing the Windows Store.">

    <meta name="generator" content="Hugo 0.15" />
    <meta name="twitter:card" content="summary">
    
    <meta name="twitter:title" content="Using Hockey App to distribute Windows Phone apps &middot; Coding Journal">
    <meta name="twitter:description" content="Distributing Windows Phone apps to testers has always been a pain. The Private Beta in the Windows Store intended for this is not very flexible and it got much worse with Windows 10 (generating promotional code that can take up to 24 hours). One of the better ways to solve the beta build distribution is using a service like [Hockey App](http://hockeyapp.net/), that Microsoft recently acquired. To be able to use Hockey App (or any other service) you need to buy a $299 certificate from Symantec. You then use the certificate to sign the XAP or APPX files of your app. Those signed binaries can be than installed on devices with the correct application enrollment token directly from Hockey App, bypassing the Windows Store.">

    <meta property="og:type" content="article">
    <meta property="og:title" content="Using Hockey App to distribute Windows Phone apps &middot; Coding Journal">
    <meta property="og:description" content="Distributing Windows Phone apps to testers has always been a pain. The Private Beta in the Windows Store intended for this is not very flexible and it got much worse with Windows 10 (generating promotional code that can take up to 24 hours). One of the better ways to solve the beta build distribution is using a service like [Hockey App](http://hockeyapp.net/), that Microsoft recently acquired. To be able to use Hockey App (or any other service) you need to buy a $299 certificate from Symantec. You then use the certificate to sign the XAP or APPX files of your app. Those signed binaries can be than installed on devices with the correct application enrollment token directly from Hockey App, bypassing the Windows Store.">

    <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:400,700|Oxygen:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/pure-min.css">
    <!--[if lte IE 8]>
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/grids-responsive-old-ie-min.css">
    <![endif]-->
    <!--[if gt IE 8]><!-->
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/grids-responsive-min.css">
    <!--<![endif]-->

    <link rel="stylesheet" href="https://blog.kulman.sk/css/all.min.css">    
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://blog.kulman.sk/css/custom.css">

    <link rel="alternate" type="application/rss+xml" title="Coding Journal" href="https://blog.kulman.sk/index.xml" />
</head>
<body>


<div id="layout" class="pure-g">
    <div class="sidebar pure-u-1 pure-u-md-1-4">
    <div class="header">
        <hgroup>
            <h1 class="brand-title"><a href="https://blog.kulman.sk">Coding Journal</a></h1>
            <h2 class="brand-tagline"> Adventures in the world of C#, F# and WinRT </h2>
        </hgroup>

        <nav class="nav wide-only">
            <ul class="nav-list">
                
                <li class="nav-item">
                    <a class="pure-button" href="https://twitter.com/igorkulman"><i class="fa fa-twitter"></i> Twitter</a>
                </li>
                
                
                <li class="nav-item">
                    <a class="pure-button" href="https://github.com/igorkulman "><i class="fa fa-github-alt"></i> github</a>
                </li>
                
                <li class="nav-item">
                    <a class="pure-button" href="https://blog.kulman.sk/index.xml"><i class="fa fa-rss"></i> rss</a>
                </li>
            </ul>
        </nav>


<ul class="menu">
   <li class="menu-item"><a href="/">Blog</a></li>
    <li class="menu-item"><a href="/projects">Projects</a></li>
    <li class="menu-item"><a href="/about">About</a></li>
</ul>


    </div>
</div>


    <div class="content pure-u-1 pure-u-md-3-4">
        <div>
            
            <div class="posts">
                <h1 class="content-subhead">16 Feb 2016</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://blog.kulman.sk/using-hockey-app-to-distribute-windows-phone-apps" class="post-title">Using Hockey App to distribute Windows Phone apps</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">Igor Kulman</strong>
                            
                            
                                under 
                                
                                <a class="post-category post-category-Windows Phone" href="https://blog.kulman.sk/categories/windows-phone">Windows Phone</a><a class="post-category post-category-Hockey App" href="https://blog.kulman.sk/categories/hockey-app">Hockey App</a><a class="post-category post-category-Windows Store" href="https://blog.kulman.sk/categories/windows-store">Windows Store</a>
                            
                        </p>
                    </header>

                  
                    <div class="post-description">
                        <p>Distributing Windows Phone apps to testers has always been a pain. The Private Beta in the Windows Store intended for this is not very flexible and it got much worse with Windows 10 (generating promotional code that can take up to 24 hours).</p>

<p>One of the better ways to solve the beta build distribution is using a service like <a href="http://hockeyapp.net/">Hockey App</a>, that Microsoft recently acquired. To be able to use Hockey App (or any other service) you need to <a href="https://products.websecurity.symantec.com/orders/enrollment/microsoftCert.do">buy a $299 certificate from Symantec</a>.</p>

<p>You then use the certificate to sign the XAP or APPX files of your app. Those signed binaries can be than installed on devices with the correct application enrollment token directly from Hockey App, bypassing the Windows Store.</p>

<p>One of my clients got persuaded to try this approach after some problem with the Windows Store Private Beta and bough the certificate. It took a week for the purchase to go through and another week to finally get the certificate in the correct PFX format from Symantec.</p>

<p><strong>Adding password to the PFX certificate</strong></p>

<p>The PFX certificate file I got had an empty password. This is quite a problem for all the Microsoft tools that work with certificates, especially for XapSignTool. I could not make the tools work with an empty password so I had to change the password first. This is done quite easily using using OpenSSL.</p>

<script src="https://gist.github.com/igorkulman/24cb76710fc7d6c9f2cb.js?file=pwd.bat"></script>

<p><strong>Generating application enrollment token</strong></p>

<p>To allow the devices to install the signed XAP (or APPX) you need to generate an application enrollment token that will be installed on the devices. The process is quite simple, just call</p>

<script src="https://gist.github.com/igorkulman/24cb76710fc7d6c9f2cb.js?file=aet.bat"></script>

<p>as a result you will get three files: AET.aet, AET.aetx, AET.xml. Get the AET.aetx file and upload it to Hockey App by clicking Add version and drag and dropping the file to the upload dialog. The company profile for your app in Hockey App will get updated using this file. This is done only once.</p>

<p><strong>Signing the binary</strong></p>

<p>Each time you submit a new build to Hockey App, you need to sign the binary (XAP in my case) with the certificate. The [signing process differs for XAP and APPX files][1].</p>

<p>For XAP files it is just calling the right PowerShell script with the correct parameters</p>

<script src="https://gist.github.com/igorkulman/24cb76710fc7d6c9f2cb.js?file=sign.bat"></script>

<p>and the result is .. an error <code>Signtool Error: This file format cannot be signed because it is not recognized</code>. So I had to do some research. I found a <a href="https://stackoverflow.com/questions/20970686/error-signing-windows-phone-xap-file-signtool-error-this-file-format-cannot">developer describing the same problem on StackOverflow</a>. The solution was to install <a href="http://downloads.tomsguide.com/silverlight-microsoft,0301-10659.html">Silverlight 5.1.30514.0</a>. This was really strange, it is a Silverlight runtime not an SDK and it does not get installed with Visual Studio or the Windows Phone SDK.</p>

<p><strong>Distributing the app</strong></p>

<p>Once you upload a signed binary to Hockey App, your testers can download it using a web browser to their devices. Each device needs to install the company profile (the application enrollment token) once, and then can install the builds you provide.</p>

<p>Installation of the Windows Phone app builds is a bit strange, no install progress or success messages, the app just appears in the list ofter one or two minutes. But it works, and it is much faster and more flexible than the Private Beta provides by the Windows Store.</p>

<pre><code>[1]: https://msdn.microsoft.com/en-us/library/windows/apps/dn168929(v=vs.105).aspx
</code></pre>

                    </div>


                    <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'coudingjournal';
    var disqus_identifier = 'https:\/\/blog.kulman.sk\/using-hockey-app-to-distribute-windows-phone-apps';
    var disqus_title = 'Using Hockey App to distribute Windows Phone apps';
    var disqus_url = 'https:\/\/blog.kulman.sk\/using-hockey-app-to-distribute-windows-phone-apps';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

                    
                </section>
            </div>
            <div class="footer">
    <div class="pure-menu pure-menu-horizontal pure-menu-open">
        <ul>
            <li>Powered by <a class="hugo" href="http://hugo.spf13.com/" target="_blank">hugo</a></li>
        </ul>
    </div>
</div>
<script src="https://blog.kulman.sk/js/all.min.js"></script>
        </div>
    </div>
</div>


<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-49528577-2', 'auto');
ga('send', 'pageview');

</script>

</body>
</html>
